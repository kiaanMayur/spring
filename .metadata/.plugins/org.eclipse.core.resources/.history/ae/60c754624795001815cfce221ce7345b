package com.capgemini.advancecollection;

import java.util.*;
import java.util.function.*;

//class to implement the test cases for class MovieDetails
public class MovieDetailsList{
	
	Comparator<MovieDetails> comparator = (arg0, arg1) -> arg0.getMovieName().compareTo(arg1.getMovieName());
	Set<MovieDetails> movie = new TreeSet<>(comparator);
	//Iterator<MovieDetails> itr = movie.iterator();


	
	public void addMovie(MovieDetails movieName) {
		movie.add(movieName);
		System.out.println(movieName.getMovieName() + " added");
	}
	
	public void removeMovie(String movieName) {
		Predicate<MovieDetails> delMovie = MovieDetails -> MovieDetails.getMovieName().equals(movieName);
		movie.removeIf(delMovie);
	}
	
	public void removeAll() {
		movie.clear();
		System.out.println("All movies are gone.");
	}
	
	//method to find the movie by name
	public boolean findByName(String movieName) {
		
		Predicate<MovieDetails> checkMovieByName = MovieDetails -> (MovieDetails.getMovieName().equals(movieName));
		return movie.stream().anyMatch(checkMovieByName);
	}
	
	//method to find movie by genre
	public boolean findByGenre(String genre) {
		Predicate<MovieDetails> checkMovieByGenre = MovieDetails -> (MovieDetails.getGenreName().equals(genre));
		return movie.stream().anyMatch(checkMovieByGenre);
	}

	
	public void display() {
		
		Consumer<MovieDetails> disp = System.out :: println;
		movie.stream().forEach(disp);
	}
	
	public void delete() {
		
	}

}
